
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../SB3_3/">
      
      
        <link rel="next" href="../SB3_5/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/logo_tab.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>レッスン4 - SKILBRIDGE</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../styles/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../.." title="SKILBRIDGE" class="md-header__button md-logo" aria-label="SKILBRIDGE" data-md-component="logo">
      
  <img src="../../assets/images/logo_tab.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SKILBRIDGE
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              レッスン4
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SKILBRIDGE" class="md-nav__button md-logo" aria-label="SKILBRIDGE" data-md-component="logo">
      
  <img src="../../assets/images/logo_tab.png" alt="logo">

    </a>
    SKILBRIDGE
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ホーム
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    コース一覧
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    コース一覧
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    01_PC基礎
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    01_PC基礎
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01_PC%E5%9F%BA%E7%A4%8E/PCBasic_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01_PC%E5%9F%BA%E7%A4%8E/PCBasic_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01_PC%E5%9F%BA%E7%A4%8E/PCBasic_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01_PC%E5%9F%BA%E7%A4%8E/PCBasic_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01_PC%E5%9F%BA%E7%A4%8E/PCBasic_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    02_Web基礎
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    02_Web基礎
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン11
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン12
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン13
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン14
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン15
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン16
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン17
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_Web%E5%9F%BA%E7%A4%8E/WebBasic_18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン18
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    03_Java入門
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    03_Java入門
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03_Java%E5%85%A5%E9%96%80/JavaBasic_10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    04_Java基礎固め
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    04_Java基礎固め
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04_Java%E5%9F%BA%E7%A4%8E%E5%9B%BA%E3%82%81/Java2_10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    05_OOP基礎
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    05_OOP基礎
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05_OOP%E5%9F%BA%E7%A4%8E/OOPBasic_10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    06_OOP応用
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    06_OOP応用
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06_OOP%E5%BF%9C%E7%94%A8/OOP2_10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    07_Git/GitHub基礎
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    07_Git/GitHub基礎
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_1.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_2.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_3.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_4.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_5.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_6.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_7.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_8.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_9.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07_Git/GitHub基礎/GitBasic_10.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    08_SQL・DB設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    08_SQL・DB設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08_SQL%E3%83%BBDB%E8%A8%AD%E8%A8%88/SQLDB_10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
        
          
          <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    09_SpringBoot：表示機能
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    09_SpringBoot：表示機能
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09_SpringBoot%EF%BC%9A%E8%A1%A8%E7%A4%BA%E6%A9%9F%E8%83%BD/SB1_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09_SpringBoot%EF%BC%9A%E8%A1%A8%E7%A4%BA%E6%A9%9F%E8%83%BD/SB1_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09_SpringBoot%EF%BC%9A%E8%A1%A8%E7%A4%BA%E6%A9%9F%E8%83%BD/SB1_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09_SpringBoot%EF%BC%9A%E8%A1%A8%E7%A4%BA%E6%A9%9F%E8%83%BD/SB1_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09_SpringBoot%EF%BC%9A%E8%A1%A8%E7%A4%BA%E6%A9%9F%E8%83%BD/SB1_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09_SpringBoot%EF%BC%9A%E8%A1%A8%E7%A4%BA%E6%A9%9F%E8%83%BD/SB1_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09_SpringBoot%EF%BC%9A%E8%A1%A8%E7%A4%BA%E6%A9%9F%E8%83%BD/SB1_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09_SpringBoot%EF%BC%9A%E8%A1%A8%E7%A4%BA%E6%A9%9F%E8%83%BD/SB1_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09_SpringBoot%EF%BC%9A%E8%A1%A8%E7%A4%BA%E6%A9%9F%E8%83%BD/SB1_9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" >
        
          
          <label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    10_SpringBoot：登録更新機能
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    10_SpringBoot：登録更新機能
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10_SpringBoot%EF%BC%9A%E7%99%BB%E9%8C%B2%E6%9B%B4%E6%96%B0%E6%A9%9F%E8%83%BD/SB2_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10_SpringBoot%EF%BC%9A%E7%99%BB%E9%8C%B2%E6%9B%B4%E6%96%B0%E6%A9%9F%E8%83%BD/SB2_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10_SpringBoot%EF%BC%9A%E7%99%BB%E9%8C%B2%E6%9B%B4%E6%96%B0%E6%A9%9F%E8%83%BD/SB2_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10_SpringBoot%EF%BC%9A%E7%99%BB%E9%8C%B2%E6%9B%B4%E6%96%B0%E6%A9%9F%E8%83%BD/SB2_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10_SpringBoot%EF%BC%9A%E7%99%BB%E9%8C%B2%E6%9B%B4%E6%96%B0%E6%A9%9F%E8%83%BD/SB2_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10_SpringBoot%EF%BC%9A%E7%99%BB%E9%8C%B2%E6%9B%B4%E6%96%B0%E6%A9%9F%E8%83%BD/SB2_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10_SpringBoot%EF%BC%9A%E7%99%BB%E9%8C%B2%E6%9B%B4%E6%96%B0%E6%A9%9F%E8%83%BD/SB2_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10_SpringBoot%EF%BC%9A%E7%99%BB%E9%8C%B2%E6%9B%B4%E6%96%B0%E6%A9%9F%E8%83%BD/SB2_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" checked>
        
          
          <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    11_SpringBoot：検索削除機能
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    11_SpringBoot：検索削除機能
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SB3_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SB3_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SB3_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        🎯 このレッスンの学習目標
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🎯 このレッスンの学習目標">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-104" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4で実現すること
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#70-80" class="md-nav__link">
    <span class="md-ellipsis">
      
        学習時間: 約70-80分
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-104_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4の戦略的重要性
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#week-101-103" class="md-nav__link">
    <span class="md-ellipsis">
      
        📚 Week 10.1-10.3の成果確認
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📚 Week 10.1-10.3の成果確認">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-101" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.1で確立した検索基盤
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-102" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.2で完成した検索画面
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-103" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.3で完成した検索結果表示
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘​ 技術発展図
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 1: 複合条件検索実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 1: 複合条件検索実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-1-studentsearchcriteria" class="md-nav__link">
    <span class="md-ellipsis">
      
        1-1. StudentSearchCriteriaの拡張
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-2-studentspecifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        1-2. StudentSpecificationsの高度化
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘​ 複雑な検索アーキテクチャ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 2: 日付範囲検索実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 2: 日付範囲検索実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        2-1. 日付フィールドの追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2-2. 日付範囲検索Specificationの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘 日付範囲検索
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 3: 複数選択検索実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 3: 複数選択検索実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3-1. 複数選択フィールドの追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-2-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        3-2. 複数選択検索Specificationの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘​ 複数選択検索
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 4: 高度検索画面の作成
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 4: 高度検索画面の作成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#4-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        4-1. 高度検索フォームの作成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘 高度な検索 UI
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-5-controller" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 5: Controllerの拡張
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 5: Controllerの拡張">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5-1-controller" class="md-nav__link">
    <span class="md-ellipsis">
      
        5-1. 高度検索Controller機能の追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        ​ コントローラー拡張
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-6-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 6: Serviceの拡張
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 6: Serviceの拡張">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        6-1. 高度検索サービス機能の追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        ​ サービス拡張機能
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-7" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 7: 動的フィルタリング機能
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 7: 動的フィルタリング機能">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7-1-ajax" class="md-nav__link">
    <span class="md-ellipsis">
      
        7-1. Ajax を活用したリアルタイム検索
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-2-ajax-api-controller" class="md-nav__link">
    <span class="md-ellipsis">
      
        7-2. Ajax API Controllerの追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        ​ 動的絞り込み
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-8" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 8: 実践演習
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 8: 実践演習">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-104_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4 高度検索機能の段階的実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        演習の目標
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="演習の目標">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: 複合条件検索の基本実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: 日付範囲検索の統合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: 複数選択検索の実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: 高度検索画面の完成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: 動的フィルタリング機能の実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: 検索条件保存機能と完成テスト
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        演習完成の確認
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        ​ 完了の価値
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        🎯 まとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🎯 まとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-104_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4で習得した技術
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Week 10.4で習得した技術">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        複合条件検索技術
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        日付範囲検索技術
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        複数選択検索技術
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ajax・動的フィルタリング技術
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-101-103_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.1-10.3技術の統合
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        実現した価値
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="実現した価値">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        企業システムレベル検索機能
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        保守性・拡張性の向上
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        開発効率の向上
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-105" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.5への準備
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Week 10.5への準備">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-105_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.5 削除機能基盤
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-106" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.6 一括削除機能
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-107-1010" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.7-10.10 高度機能
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-104_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4の成功実感
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#week-105_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 次回予告：Week 10.5への期待
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 次回予告：Week 10.5への期待">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-105_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.5で学ぶ内容
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-104105" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4から10.5への自然な流れ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SB3_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SB3_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SB3_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SB3_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SB3_9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SB3_10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_12" >
        
          
          <label class="md-nav__link" for="__nav_2_12" id="__nav_2_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    12_実務基礎
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    12_実務基礎
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../12_%E5%AE%9F%E5%8B%99%E5%9F%BA%E7%A4%8E/Practical_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../12_%E5%AE%9F%E5%8B%99%E5%9F%BA%E7%A4%8E/Practical_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../12_%E5%AE%9F%E5%8B%99%E5%9F%BA%E7%A4%8E/Practical_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_13" >
        
          
          <label class="md-nav__link" for="__nav_2_13" id="__nav_2_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    C#初級
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    C#初級
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E5%88%9D%E7%B4%9A/C%23Basic_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E5%88%9D%E7%B4%9A/C%23Basic_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E5%88%9D%E7%B4%9A/C%23Basic_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E5%88%9D%E7%B4%9A/C%23Basic_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E5%88%9D%E7%B4%9A/C%23Basic_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E5%88%9D%E7%B4%9A/C%23Basic_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E5%88%9D%E7%B4%9A/C%23Basic_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E5%88%9D%E7%B4%9A/C%23Basic_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_14" >
        
          
          <label class="md-nav__link" for="__nav_2_14" id="__nav_2_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    C#中級
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    C#中級
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%AD%E7%B4%9A/C%232_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%AD%E7%B4%9A/C%232_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%AD%E7%B4%9A/C%232_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%AD%E7%B4%9A/C%232_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%AD%E7%B4%9A/C%232_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%AD%E7%B4%9A/C%232_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_15" >
        
          
          <label class="md-nav__link" for="__nav_2_15" id="__nav_2_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    C#上級
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    C#上級
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%8A%E7%B4%9A/C%233_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%8A%E7%B4%9A/C%233_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%8A%E7%B4%9A/C%233_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%8A%E7%B4%9A/C%233_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%8A%E7%B4%9A/C%233_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%8A%E7%B4%9A/C%233_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%8A%E7%B4%9A/C%233_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23%E4%B8%8A%E7%B4%9A/C%233_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_16" >
        
          
          <label class="md-nav__link" for="__nav_2_16" id="__nav_2_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Office全般ツール
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    Office全般ツール
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Office%E5%85%A8%E8%88%AC%E3%83%84%E3%83%BC%E3%83%AB/Office_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Office%E5%85%A8%E8%88%AC%E3%83%84%E3%83%BC%E3%83%AB/Office_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Office%E5%85%A8%E8%88%AC%E3%83%84%E3%83%BC%E3%83%AB/Office_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    レッスン3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        🎯 このレッスンの学習目標
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🎯 このレッスンの学習目標">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-104" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4で実現すること
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#70-80" class="md-nav__link">
    <span class="md-ellipsis">
      
        学習時間: 約70-80分
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-104_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4の戦略的重要性
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#week-101-103" class="md-nav__link">
    <span class="md-ellipsis">
      
        📚 Week 10.1-10.3の成果確認
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📚 Week 10.1-10.3の成果確認">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-101" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.1で確立した検索基盤
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-102" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.2で完成した検索画面
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-103" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.3で完成した検索結果表示
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘​ 技術発展図
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 1: 複合条件検索実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 1: 複合条件検索実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-1-studentsearchcriteria" class="md-nav__link">
    <span class="md-ellipsis">
      
        1-1. StudentSearchCriteriaの拡張
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-2-studentspecifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        1-2. StudentSpecificationsの高度化
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘​ 複雑な検索アーキテクチャ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 2: 日付範囲検索実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 2: 日付範囲検索実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        2-1. 日付フィールドの追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2-2. 日付範囲検索Specificationの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘 日付範囲検索
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 3: 複数選択検索実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 3: 複数選択検索実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3-1. 複数選択フィールドの追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-2-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        3-2. 複数選択検索Specificationの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘​ 複数選択検索
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 4: 高度検索画面の作成
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 4: 高度検索画面の作成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#4-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        4-1. 高度検索フォームの作成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        📘 高度な検索 UI
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-5-controller" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 5: Controllerの拡張
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 5: Controllerの拡張">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5-1-controller" class="md-nav__link">
    <span class="md-ellipsis">
      
        5-1. 高度検索Controller機能の追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        ​ コントローラー拡張
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-6-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 6: Serviceの拡張
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 6: Serviceの拡張">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        6-1. 高度検索サービス機能の追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        ​ サービス拡張機能
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-7" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 7: 動的フィルタリング機能
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 7: 動的フィルタリング機能">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7-1-ajax" class="md-nav__link">
    <span class="md-ellipsis">
      
        7-1. Ajax を活用したリアルタイム検索
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-2-ajax-api-controller" class="md-nav__link">
    <span class="md-ellipsis">
      
        7-2. Ajax API Controllerの追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        ​ 動的絞り込み
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-8" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 Section 8: 実践演習
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Section 8: 実践演習">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-104_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4 高度検索機能の段階的実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        演習の目標
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="演習の目標">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: 複合条件検索の基本実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: 日付範囲検索の統合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: 複数選択検索の実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: 高度検索画面の完成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: 動的フィルタリング機能の実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: 検索条件保存機能と完成テスト
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        演習完成の確認
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        ​ 完了の価値
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        🎯 まとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🎯 まとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-104_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4で習得した技術
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Week 10.4で習得した技術">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        複合条件検索技術
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        日付範囲検索技術
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        複数選択検索技術
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ajax・動的フィルタリング技術
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-101-103_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.1-10.3技術の統合
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        実現した価値
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="実現した価値">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        企業システムレベル検索機能
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        保守性・拡張性の向上
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        開発効率の向上
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-105" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.5への準備
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Week 10.5への準備">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-105_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.5 削除機能基盤
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-106" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.6 一括削除機能
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-107-1010" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.7-10.10 高度機能
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-104_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4の成功実感
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#week-105_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚀 次回予告：Week 10.5への期待
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 次回予告：Week 10.5への期待">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#week-105_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.5で学ぶ内容
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#week-104105" class="md-nav__link">
    <span class="md-ellipsis">
      
        Week 10.4から10.5への自然な流れ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



  <h1>レッスン4</h1>

<?xml version="1.0" encoding="UTF-8"?>
<p><lesson>
  <type>text</type>
  <description>Week 10.1-10.3で確立された検索機能基盤を高度化し、企業システムレベルの複合条件検索・日付範囲検索・複数選択検索・動的フィルタリング機能を実装する。Criteria API高度活用、Ajax技術、検索条件保存等の実用技術を習得し、Week 10.5以降の削除機能への確実な基盤を構築する。</description>
  <title>4.高度検索機能：複合条件と動的フィルタリング</title>
  <content># 10.4 高度検索機能：複合条件と動的フィルタリング</p>
<h2 id="_1">🎯 このレッスンの学習目標</h2>
<h3 id="week-104"><strong>Week 10.4で実現すること</strong></h3>
<p>Week 10.1-10.3で確立された検索機能を<strong>企業システムレベルの高度検索機能</strong>に発展させます：</p>
<ul>
<li><strong>複合条件検索</strong>: AND/OR演算子を活用した複雑な検索条件の実装</li>
<li><strong>日付範囲検索</strong>: 登録日・更新日などの期間指定検索機能</li>
<li><strong>複数選択検索</strong>: チェックボックス・セレクトボックスによる複数項目選択</li>
<li><strong>動的フィルタリング</strong>: 検索結果からのリアルタイム絞り込み機能</li>
<li><strong>検索条件保存</strong>: よく使う検索条件の保存・呼び出し機能</li>
</ul>
<h3 id="70-80"><strong>学習時間</strong>: 約70-80分</h3>
<h3 id="week-104_1"><strong>Week 10.4の戦略的重要性</strong></h3>
<ul>
<li><strong>Week 10.1-10.3基盤の高度化</strong>: 確立された検索機能の企業システムレベルへの進化</li>
<li><strong>実際のビジネスシステムレベル</strong>: 企業の実務で使用される高度検索技術の習得</li>
<li><strong>Week 10.5以降への基盤</strong>: 削除機能・エクスポート機能への確実な土台構築</li>
</ul>
<hr />
<h2 id="week-101-103">📚 Week 10.1-10.3の成果確認</h2>
<h3 id="week-101"><strong>Week 10.1で確立した検索基盤</strong></h3>
<p>✅ <strong>Spring Data JPA高度機能</strong>: @Query・JPQL・動的検索条件の実装完了&lt;br&gt;
✅ <strong>Repository拡張パターン</strong>: カスタムリポジトリ・複合条件検索の基盤完成&lt;br&gt;
✅ <strong>Service層での検索ロジック</strong>: Week 9アーキテクチャでの検索機能統合</p>
<p><strong>確立されたクラス構成:</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// 検索条件DTO（Week 10.4で拡張）</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSearchCriteria</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">           </span><span class="c1">// 名前（部分一致）</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">grade</span><span class="p">;</span><span class="w">         </span><span class="c1">// 学年（完全一致）</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">major</span><span class="p">;</span><span class="w">          </span><span class="c1">// 専攻（完全一致）</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span><span class="w">          </span><span class="c1">// メールアドレス（部分一致）</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">minGrade</span><span class="p">;</span><span class="w">      </span><span class="c1">// 学年範囲（最小値）</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">maxGrade</span><span class="p">;</span><span class="w">      </span><span class="c1">// 学年範囲（最大値）</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加予定フィールド</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">startDate</span><span class="p">;</span><span class="w">       </span><span class="c1">// 登録日開始</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">endDate</span><span class="p">;</span><span class="w">         </span><span class="c1">// 登録日終了</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">majors</span><span class="p">;</span><span class="w">       </span><span class="c1">// 複数専攻選択</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">searchOperator</span><span class="p">;</span><span class="w">     </span><span class="c1">// AND/OR演算子</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="week-102"><strong>Week 10.2で完成した検索画面</strong></h3>
<p>✅ <strong>検索フォーム設計</strong>: 複数条件入力・Bean Validation・レスポンシブ対応完了&lt;br&gt;
✅ <strong>Controller実装</strong>: Week 10.1サービス統合・PRGパターン・Ajax対応基盤確立&lt;br&gt;
✅ <strong>UX向上機能</strong>: 部分一致切り替え・条件リセット・検索履歴・JavaScript連携</p>
<h3 id="week-103"><strong>Week 10.3で完成した検索結果表示</strong></h3>
<p>✅ <strong>ページネーション実装</strong>: Spring Data JPAのPageable・Page活用による効率的分割表示&lt;br&gt;
✅ <strong>並び替え機能</strong>: 検索結果の柔軟な並び替え・Sort機能活用完成&lt;br&gt;
✅ <strong>結果件数表示</strong>: 総件数・現在ページ・ページ範囲の分かりやすい表示&lt;br&gt;
✅ <strong>企業システムレベル検索結果表示</strong>: 美しいUI・使いやすいページネーション</p>
<h3 id="_2">📘​ <a href="https://nkaihatsuItDivision.github.io/CodeLingoPicture/SpringBoot3_4_development_diagram.html">技術発展図</a></h3>
<hr />
<h2 id="section-1">🚀 Section 1: 複合条件検索実装</h2>
<h3 id="1-1-studentsearchcriteria"><strong>1-1. StudentSearchCriteriaの拡張</strong></h3>
<p>Week 10.1で作成したStudentSearchCriteriaに複合条件検索用フィールドを追加します：</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSearchCriteria</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 既存フィールド（Week 10.1で実装済み）</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">grade</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">major</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">minGrade</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">maxGrade</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：複合条件検索用</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">searchOperator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">AND</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span><span class="w"> </span><span class="c1">// AND/OR演算子</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">advancedMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">  </span><span class="c1">// 高度検索モード</span>

<span class="w">    </span><span class="c1">// getter/setter</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getSearchOperator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">searchOperator</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setSearchOperator</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">searchOperator</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">searchOperator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">searchOperator</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">searchOperator</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">AND</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isAdvancedMode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">advancedMode</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAdvancedMode</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">advancedMode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">advancedMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">advancedMode</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 複合条件検索が有効かどうかを判定</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isComplexSearch</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">conditionCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">name</span><span class="p">.</span><span class="na">trim</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="n">conditionCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">major</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">major</span><span class="p">.</span><span class="na">trim</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="n">conditionCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">grade</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="n">conditionCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">email</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">email</span><span class="p">.</span><span class="na">trim</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="n">conditionCount</span><span class="o">++</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">conditionCount</span><span class="w"> </span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// 2つ以上の条件がある場合は複合検索</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="1-2-studentspecifications"><strong>1-2. StudentSpecificationsの高度化</strong></h3>
<p>Week 10.1のStudentSpecificationsクラスに複合条件検索メソッドを追加します：</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSpecifications</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// Week 10.1で実装済みのメソッド</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Student</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">searchByCriteria</span><span class="p">(</span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 基本検索実装済み</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：複合条件検索対応</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Student</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">advancedSearch</span><span class="p">(</span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">)</span><span class="w"> </span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Predicate</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">predicates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>

<span class="w">            </span><span class="c1">// 名前検索条件</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">StringUtils</span><span class="p">.</span><span class="na">hasText</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getName</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">namePredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">like</span><span class="p">(</span>
<span class="w">                    </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">lower</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">name</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)),</span><span class="w"> </span>
<span class="w">                    </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">%&amp;</span><span class="n">quot</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">criteria</span><span class="p">.</span><span class="na">getName</span><span class="p">().</span><span class="na">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">%&amp;</span><span class="n">quot</span><span class="p">;</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">namePredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// 専攻検索条件</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">StringUtils</span><span class="p">.</span><span class="na">hasText</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getMajor</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">majorPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">like</span><span class="p">(</span>
<span class="w">                    </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">lower</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">major</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)),</span><span class="w"> </span>
<span class="w">                    </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">%&amp;</span><span class="n">quot</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">criteria</span><span class="p">.</span><span class="na">getMajor</span><span class="p">().</span><span class="na">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">%&amp;</span><span class="n">quot</span><span class="p">;</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">majorPredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// 学年検索条件</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getGrade</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">gradePredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">equal</span><span class="p">(</span>
<span class="w">                    </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">grade</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;),</span><span class="w"> </span>
<span class="w">                    </span><span class="n">criteria</span><span class="p">.</span><span class="na">getGrade</span><span class="p">()</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">gradePredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// 学年範囲検索条件</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getMinGrade</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">minGradePredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">greaterThanOrEqualTo</span><span class="p">(</span>
<span class="w">                    </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">grade</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;),</span><span class="w"> </span>
<span class="w">                    </span><span class="n">criteria</span><span class="p">.</span><span class="na">getMinGrade</span><span class="p">()</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">minGradePredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getMaxGrade</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">maxGradePredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">lessThanOrEqualTo</span><span class="p">(</span>
<span class="w">                    </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">grade</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;),</span><span class="w"> </span>
<span class="w">                    </span><span class="n">criteria</span><span class="p">.</span><span class="na">getMaxGrade</span><span class="p">()</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">maxGradePredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// メールアドレス検索条件</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">StringUtils</span><span class="p">.</span><span class="na">hasText</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getEmail</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">emailPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">like</span><span class="p">(</span>
<span class="w">                    </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">lower</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">email</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)),</span><span class="w"> </span>
<span class="w">                    </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">%&amp;</span><span class="n">quot</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">criteria</span><span class="p">.</span><span class="na">getEmail</span><span class="p">().</span><span class="na">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">%&amp;</span><span class="n">quot</span><span class="p">;</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">emailPredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// Week 10.4の核心：AND/OR演算子による条件結合</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">predicates</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">conjunction</span><span class="p">();</span><span class="w"> </span><span class="c1">// 条件なしの場合は全件取得</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">OR</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;.</span><span class="na">equals</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSearchOperator</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// OR条件：いずれかの条件を満たす</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">or</span><span class="p">(</span><span class="n">predicates</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Predicate</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// AND条件：全ての条件を満たす（デフォルト）</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="n">predicates</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Predicate</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_3">📘​ <a href="https://nkaihatsuItDivision.github.io/CodeLingoPicture/SpringBoot3_4_complex_search_architecture.html">複雑な検索アーキテクチャ</a></h3>
<hr />
<h2 id="section-2">🚀 Section 2: 日付範囲検索実装</h2>
<h3 id="2-1"><strong>2-1. 日付フィールドの追加</strong></h3>
<p>StudentSearchCriteriaに日付範囲検索用フィールドを追加します：</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSearchCriteria</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 既存フィールド...</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：日付範囲検索用</span>
<span class="w">    </span><span class="nd">@DateTimeFormat</span><span class="p">(</span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">yyyy</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">dd</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">startDate</span><span class="p">;</span><span class="w">       </span><span class="c1">// 登録日開始</span>

<span class="w">    </span><span class="nd">@DateTimeFormat</span><span class="p">(</span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">yyyy</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">dd</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">endDate</span><span class="p">;</span><span class="w">         </span><span class="c1">// 登録日終了</span>

<span class="w">    </span><span class="nd">@DateTimeFormat</span><span class="p">(</span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">yyyy</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">dd</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">updateStartDate</span><span class="p">;</span><span class="w"> </span><span class="c1">// 更新日開始</span>

<span class="w">    </span><span class="nd">@DateTimeFormat</span><span class="p">(</span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">yyyy</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">dd</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">updateEndDate</span><span class="p">;</span><span class="w">   </span><span class="c1">// 更新日終了</span>

<span class="w">    </span><span class="c1">// getter/setter</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="nf">getStartDate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">startDate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setStartDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">startDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">startDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">startDate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="nf">getEndDate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">endDate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setEndDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">endDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">endDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">endDate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 日付範囲検索が有効かどうかを判定</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasDateRange</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">startDate</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">endDate</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
<span class="w">               </span><span class="n">updateStartDate</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">updateEndDate</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 日付範囲の妥当性チェック</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isValidDateRange</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">startDate</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="n">endDate</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">startDate</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">endDate</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updateStartDate</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="n">updateEndDate</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">updateStartDate</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">updateEndDate</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="2-2-specification"><strong>2-2. 日付範囲検索Specificationの実装</strong></h3>
<p>StudentSpecificationsに日付範囲検索条件を追加します：</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSpecifications</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// 既存メソッド...</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：日付範囲検索対応</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Student</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">advancedSearchWithDateRange</span><span class="p">(</span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">)</span><span class="w"> </span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Predicate</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">predicates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>

<span class="w">            </span><span class="c1">// 既存の検索条件（名前、専攻、学年等）</span>
<span class="w">            </span><span class="c1">// ... 前回のadvancedSearchメソッドの内容 ...</span>

<span class="w">            </span><span class="c1">// Week 10.4で追加：登録日範囲検索</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getStartDate</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">startDatePredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">greaterThanOrEqualTo</span><span class="p">(</span>
<span class="w">                    </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">createdDate</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;),</span><span class="w"> </span>
<span class="w">                    </span><span class="n">criteria</span><span class="p">.</span><span class="na">getStartDate</span><span class="p">()</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">startDatePredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getEndDate</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// 終了日は当日の23:59:59まで含めるため、翌日の00:00:00未満とする</span>
<span class="w">                </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">nextDay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteria</span><span class="p">.</span><span class="na">getEndDate</span><span class="p">().</span><span class="na">plusDays</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">endDatePredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">lessThan</span><span class="p">(</span>
<span class="w">                    </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">createdDate</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;),</span><span class="w"> </span>
<span class="w">                    </span><span class="n">nextDay</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">endDatePredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// Week 10.4で追加：更新日範囲検索</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getUpdateStartDate</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">updateStartPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">greaterThanOrEqualTo</span><span class="p">(</span>
<span class="w">                    </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">updatedDate</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;),</span><span class="w"> </span>
<span class="w">                    </span><span class="n">criteria</span><span class="p">.</span><span class="na">getUpdateStartDate</span><span class="p">()</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">updateStartPredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getUpdateEndDate</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">nextDay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteria</span><span class="p">.</span><span class="na">getUpdateEndDate</span><span class="p">().</span><span class="na">plusDays</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">updateEndPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">lessThan</span><span class="p">(</span>
<span class="w">                    </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">updatedDate</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;),</span><span class="w"> </span>
<span class="w">                    </span><span class="n">nextDay</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">updateEndPredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// AND/OR演算子による条件結合</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">predicates</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">conjunction</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">OR</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;.</span><span class="na">equals</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSearchOperator</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">or</span><span class="p">(</span><span class="n">predicates</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Predicate</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="n">predicates</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Predicate</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_4">📘 <a href="https://nkaihatsuItDivision.github.io/CodeLingoPicture/SpringBoot3_4_date_range_search.html">日付範囲検索</a></h3>
<hr />
<h2 id="section-3">🚀 Section 3: 複数選択検索実装</h2>
<h3 id="3-1"><strong>3-1. 複数選択フィールドの追加</strong></h3>
<p>StudentSearchCriteriaに複数選択用フィールドを追加します：</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSearchCriteria</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 既存フィールド...</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：複数選択検索用</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">selectedMajors</span><span class="p">;</span><span class="w">     </span><span class="c1">// 複数専攻選択</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Integer</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">selectedGrades</span><span class="p">;</span><span class="w">   </span><span class="c1">// 複数学年選択</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">selectedStatuses</span><span class="p">;</span><span class="w">  </span><span class="c1">// 複数ステータス選択</span>

<span class="w">    </span><span class="c1">// getter/setter</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">getSelectedMajors</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">selectedMajors</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setSelectedMajors</span><span class="p">(</span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">selectedMajors</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">selectedMajors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">selectedMajors</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Integer</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">getSelectedGrades</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">selectedGrades</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setSelectedGrades</span><span class="p">(</span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Integer</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">selectedGrades</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">selectedGrades</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">selectedGrades</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 複数選択検索が有効かどうかを判定</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasMultipleSelection</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">selectedMajors</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">selectedMajors</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="o">||</span>
<span class="w">               </span><span class="p">(</span><span class="n">selectedGrades</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">selectedGrades</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="o">||</span>
<span class="w">               </span><span class="p">(</span><span class="n">selectedStatuses</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">selectedStatuses</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="3-2-specification"><strong>3-2. 複数選択検索Specificationの実装</strong></h3>
<p>StudentSpecificationsに複数選択検索条件を追加します：</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSpecifications</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// 既存メソッド...</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：完全版高度検索（複数選択対応）</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Student</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">completeAdvancedSearch</span><span class="p">(</span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">)</span><span class="w"> </span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Predicate</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">predicates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>

<span class="w">            </span><span class="c1">// 基本検索条件（名前、専攻、学年等）</span>
<span class="w">            </span><span class="c1">// ... 既存の条件 ...</span>

<span class="w">            </span><span class="c1">// 日付範囲検索条件</span>
<span class="w">            </span><span class="c1">// ... 既存の日付条件 ...</span>

<span class="w">            </span><span class="c1">// Week 10.4で追加：複数選択検索条件</span>

<span class="w">            </span><span class="c1">// 複数専攻検索</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSelectedMajors</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSelectedMajors</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">majorInPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">major</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;).</span><span class="na">in</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSelectedMajors</span><span class="p">());</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">majorInPredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// 複数学年検索</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSelectedGrades</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSelectedGrades</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">gradeInPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">grade</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;).</span><span class="na">in</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSelectedGrades</span><span class="p">());</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">gradeInPredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// 複数ステータス検索</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSelectedStatuses</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSelectedStatuses</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Predicate</span><span class="w"> </span><span class="n">statusInPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">status</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;).</span><span class="na">in</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSelectedStatuses</span><span class="p">());</span>
<span class="w">                </span><span class="n">predicates</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">statusInPredicate</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// AND/OR演算子による条件結合</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">predicates</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">conjunction</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">OR</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;.</span><span class="na">equals</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSearchOperator</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">or</span><span class="p">(</span><span class="n">predicates</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Predicate</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">criteriaBuilder</span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="n">predicates</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Predicate</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_5">📘​ <a href="https://nkaihatsuItDivision.github.io/CodeLingoPicture/SpringBoot3_4_multiple_selection_search.html">複数選択検索</a></h3>
<hr />
<h2 id="section-4">🚀 Section 4: 高度検索画面の作成</h2>
<h3 id="4-1"><strong>4-1. 高度検索フォームの作成</strong></h3>
<p>Week 10.2の検索画面基盤を拡張し、高度検索フォームを作成します：</p>
<div class="highlight"><pre><span></span><code><span class="ni">&amp;lt;</span>!DOCTYPE html<span class="ni">&amp;gt;</span>
<span class="ni">&amp;lt;</span>html xmlns:th=<span class="ni">&amp;quot;</span>http://www.thymeleaf.org<span class="ni">&amp;quot;&amp;gt;</span>
<span class="ni">&amp;lt;</span>head<span class="ni">&amp;gt;</span>
    <span class="ni">&amp;lt;</span>title<span class="ni">&amp;gt;</span>高度検索 - 学生管理システム<span class="ni">&amp;lt;</span>/title<span class="ni">&amp;gt;</span>
    <span class="ni">&amp;lt;</span>link href=<span class="ni">&amp;quot;</span>https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css<span class="ni">&amp;quot;</span> rel=<span class="ni">&amp;quot;</span>stylesheet<span class="ni">&amp;quot;&amp;gt;</span>
    <span class="ni">&amp;lt;</span>link href=<span class="ni">&amp;quot;</span>https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css<span class="ni">&amp;quot;</span> rel=<span class="ni">&amp;quot;</span>stylesheet<span class="ni">&amp;quot;&amp;gt;</span>
    <span class="ni">&amp;lt;</span>style<span class="ni">&amp;gt;</span>
        .search-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #007bff;
        }
        .checkbox-group {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 4px;
        }
        .operator-selection {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
    <span class="ni">&amp;lt;</span>/style<span class="ni">&amp;gt;</span>
<span class="ni">&amp;lt;</span>/head<span class="ni">&amp;gt;</span>
<span class="ni">&amp;lt;</span>body<span class="ni">&amp;gt;</span>
    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>container mt-4<span class="ni">&amp;quot;&amp;gt;</span>
        <span class="ni">&amp;lt;</span>h1<span class="ni">&amp;gt;&amp;lt;</span>i class=<span class="ni">&amp;quot;</span>fas fa-search-plus<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/i<span class="ni">&amp;gt;</span> 高度検索<span class="ni">&amp;lt;</span>/h1<span class="ni">&amp;gt;</span>

        <span class="ni">&amp;lt;</span>form th:action=<span class="ni">&amp;quot;</span>@{/students/search/advanced}<span class="ni">&amp;quot;</span> method=<span class="ni">&amp;quot;</span>post<span class="ni">&amp;quot;</span> th:object=<span class="ni">&amp;quot;</span>${searchForm}<span class="ni">&amp;quot;&amp;gt;</span>

            <span class="ni">&amp;lt;</span>!-- 基本検索条件（Week 10.2の拡張） --<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>search-section<span class="ni">&amp;quot;&amp;gt;</span>
                <span class="ni">&amp;lt;</span>h3<span class="ni">&amp;gt;&amp;lt;</span>i class=<span class="ni">&amp;quot;</span>fas fa-search<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/i<span class="ni">&amp;gt;</span> 基本条件<span class="ni">&amp;lt;</span>/h3<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>row<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>学生名<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>input type=<span class="ni">&amp;quot;</span>text<span class="ni">&amp;quot;</span> th:field=<span class="ni">&amp;quot;</span>*{name}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-control<span class="ni">&amp;quot;</span> 
                               placeholder=<span class="ni">&amp;quot;</span>名前の一部を入力<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>専攻<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>input type=<span class="ni">&amp;quot;</span>text<span class="ni">&amp;quot;</span> th:field=<span class="ni">&amp;quot;</span>*{major}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-control<span class="ni">&amp;quot;</span> 
                               placeholder=<span class="ni">&amp;quot;</span>専攻名を入力<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>row mt-3<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>学年<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>select th:field=<span class="ni">&amp;quot;</span>*{grade}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-select<span class="ni">&amp;quot;&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>option value=<span class="ni">&amp;quot;&amp;quot;&amp;gt;</span>選択してください<span class="ni">&amp;lt;</span>/option<span class="ni">&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>option value=<span class="ni">&amp;quot;</span>1<span class="ni">&amp;quot;&amp;gt;</span>1年生<span class="ni">&amp;lt;</span>/option<span class="ni">&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>option value=<span class="ni">&amp;quot;</span>2<span class="ni">&amp;quot;&amp;gt;</span>2年生<span class="ni">&amp;lt;</span>/option<span class="ni">&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>option value=<span class="ni">&amp;quot;</span>3<span class="ni">&amp;quot;&amp;gt;</span>3年生<span class="ni">&amp;lt;</span>/option<span class="ni">&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>option value=<span class="ni">&amp;quot;</span>4<span class="ni">&amp;quot;&amp;gt;</span>4年生<span class="ni">&amp;lt;</span>/option<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>/select<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>メールアドレス<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>input type=<span class="ni">&amp;quot;</span>email<span class="ni">&amp;quot;</span> th:field=<span class="ni">&amp;quot;</span>*{email}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-control<span class="ni">&amp;quot;</span> 
                               placeholder=<span class="ni">&amp;quot;</span>メールアドレスの一部を入力<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>

            <span class="ni">&amp;lt;</span>!-- Week 10.4新機能：日付範囲検索 --<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>search-section<span class="ni">&amp;quot;&amp;gt;</span>
                <span class="ni">&amp;lt;</span>h3<span class="ni">&amp;gt;&amp;lt;</span>i class=<span class="ni">&amp;quot;</span>fas fa-calendar-alt<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/i<span class="ni">&amp;gt;</span> 期間指定<span class="ni">&amp;lt;</span>/h3<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>row<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>登録日（開始）<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>input type=<span class="ni">&amp;quot;</span>date<span class="ni">&amp;quot;</span> th:field=<span class="ni">&amp;quot;</span>*{startDate}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-control<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>登録日（終了）<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>input type=<span class="ni">&amp;quot;</span>date<span class="ni">&amp;quot;</span> th:field=<span class="ni">&amp;quot;</span>*{endDate}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-control<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>row mt-3<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>更新日（開始）<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>input type=<span class="ni">&amp;quot;</span>date<span class="ni">&amp;quot;</span> th:field=<span class="ni">&amp;quot;</span>*{updateStartDate}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-control<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>更新日（終了）<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>input type=<span class="ni">&amp;quot;</span>date<span class="ni">&amp;quot;</span> th:field=<span class="ni">&amp;quot;</span>*{updateEndDate}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-control<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>

            <span class="ni">&amp;lt;</span>!-- Week 10.4新機能：複数選択検索 --<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>search-section<span class="ni">&amp;quot;&amp;gt;</span>
                <span class="ni">&amp;lt;</span>h3<span class="ni">&amp;gt;&amp;lt;</span>i class=<span class="ni">&amp;quot;</span>fas fa-check-square<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/i<span class="ni">&amp;gt;</span> 複数選択<span class="ni">&amp;lt;</span>/h3<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>row<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>専攻（複数選択可）<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>checkbox-group<span class="ni">&amp;quot;&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>div th:each=<span class="ni">&amp;quot;</span>major : ${majorOptions}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-check<span class="ni">&amp;quot;&amp;gt;</span>
                                <span class="ni">&amp;lt;</span>input class=<span class="ni">&amp;quot;</span>form-check-input<span class="ni">&amp;quot;</span> type=<span class="ni">&amp;quot;</span>checkbox<span class="ni">&amp;quot;</span> 
                                       th:field=<span class="ni">&amp;quot;</span>*{selectedMajors}<span class="ni">&amp;quot;</span> th:value=<span class="ni">&amp;quot;</span>${major}<span class="ni">&amp;quot;&amp;gt;</span>
                                <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-check-label<span class="ni">&amp;quot;</span> th:text=<span class="ni">&amp;quot;</span>${major}<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>col-md-6<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-label<span class="ni">&amp;quot;&amp;gt;</span>学年（複数選択可）<span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>checkbox-group<span class="ni">&amp;quot;&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>div th:each=<span class="ni">&amp;quot;</span>grade : ${gradeOptions}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>form-check<span class="ni">&amp;quot;&amp;gt;</span>
                                <span class="ni">&amp;lt;</span>input class=<span class="ni">&amp;quot;</span>form-check-input<span class="ni">&amp;quot;</span> type=<span class="ni">&amp;quot;</span>checkbox<span class="ni">&amp;quot;</span> 
                                       th:field=<span class="ni">&amp;quot;</span>*{selectedGrades}<span class="ni">&amp;quot;</span> th:value=<span class="ni">&amp;quot;</span>${grade}<span class="ni">&amp;quot;&amp;gt;</span>
                                <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-check-label<span class="ni">&amp;quot;</span> th:text=<span class="ni">&amp;quot;</span>${grade + <span class="ni">&amp;apos;</span>年生<span class="ni">&amp;apos;</span>}<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>

            <span class="ni">&amp;lt;</span>!-- Week 10.4新機能：AND/OR演算子選択 --<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>operator-selection<span class="ni">&amp;quot;&amp;gt;</span>
                <span class="ni">&amp;lt;</span>h4<span class="ni">&amp;gt;&amp;lt;</span>i class=<span class="ni">&amp;quot;</span>fas fa-cogs<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/i<span class="ni">&amp;gt;</span> 検索条件<span class="ni">&amp;lt;</span>/h4<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>form-group<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>form-check form-check-inline<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>input class=<span class="ni">&amp;quot;</span>form-check-input<span class="ni">&amp;quot;</span> type=<span class="ni">&amp;quot;</span>radio<span class="ni">&amp;quot;</span> 
                               th:field=<span class="ni">&amp;quot;</span>*{searchOperator}<span class="ni">&amp;quot;</span> value=<span class="ni">&amp;quot;</span>AND<span class="ni">&amp;quot;</span> id=<span class="ni">&amp;quot;</span>operatorAnd<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-check-label<span class="ni">&amp;quot;</span> for=<span class="ni">&amp;quot;</span>operatorAnd<span class="ni">&amp;quot;&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>strong<span class="ni">&amp;gt;</span>全ての条件に一致（AND）<span class="ni">&amp;lt;</span>/strong<span class="ni">&amp;gt;&amp;lt;</span>br<span class="ni">&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>small class=<span class="ni">&amp;quot;</span>text-muted<span class="ni">&amp;quot;&amp;gt;</span>指定した条件をすべて満たす学生を検索<span class="ni">&amp;lt;</span>/small<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>form-check form-check-inline<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>input class=<span class="ni">&amp;quot;</span>form-check-input<span class="ni">&amp;quot;</span> type=<span class="ni">&amp;quot;</span>radio<span class="ni">&amp;quot;</span> 
                               th:field=<span class="ni">&amp;quot;</span>*{searchOperator}<span class="ni">&amp;quot;</span> value=<span class="ni">&amp;quot;</span>OR<span class="ni">&amp;quot;</span> id=<span class="ni">&amp;quot;</span>operatorOr<span class="ni">&amp;quot;&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>label class=<span class="ni">&amp;quot;</span>form-check-label<span class="ni">&amp;quot;</span> for=<span class="ni">&amp;quot;</span>operatorOr<span class="ni">&amp;quot;&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>strong<span class="ni">&amp;gt;</span>いずれかの条件に一致（OR）<span class="ni">&amp;lt;</span>/strong<span class="ni">&amp;gt;&amp;lt;</span>br<span class="ni">&amp;gt;</span>
                            <span class="ni">&amp;lt;</span>small class=<span class="ni">&amp;quot;</span>text-muted<span class="ni">&amp;quot;&amp;gt;</span>指定した条件のいずれか1つでも満たす学生を検索<span class="ni">&amp;lt;</span>/small<span class="ni">&amp;gt;</span>
                        <span class="ni">&amp;lt;</span>/label<span class="ni">&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>

            <span class="ni">&amp;lt;</span>!-- 検索実行ボタン --<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>div class=<span class="ni">&amp;quot;</span>text-center mt-4<span class="ni">&amp;quot;&amp;gt;</span>
                <span class="ni">&amp;lt;</span>button type=<span class="ni">&amp;quot;</span>submit<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>btn btn-primary btn-lg<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>i class=<span class="ni">&amp;quot;</span>fas fa-search<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/i<span class="ni">&amp;gt;</span> 高度検索実行
                <span class="ni">&amp;lt;</span>/button<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>a th:href=<span class="ni">&amp;quot;</span>@{/students/search}<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>btn btn-secondary btn-lg<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>i class=<span class="ni">&amp;quot;</span>fas fa-arrow-left<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/i<span class="ni">&amp;gt;</span> 基本検索に戻る
                <span class="ni">&amp;lt;</span>/button<span class="ni">&amp;gt;</span>
                <span class="ni">&amp;lt;</span>button type=<span class="ni">&amp;quot;</span>button<span class="ni">&amp;quot;</span> class=<span class="ni">&amp;quot;</span>btn btn-outline-secondary btn-lg<span class="ni">&amp;quot;</span> 
                        onclick=<span class="ni">&amp;quot;</span>clearForm()<span class="ni">&amp;quot;&amp;gt;</span>
                    <span class="ni">&amp;lt;</span>i class=<span class="ni">&amp;quot;</span>fas fa-eraser<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/i<span class="ni">&amp;gt;</span> クリア
                <span class="ni">&amp;lt;</span>/button<span class="ni">&amp;gt;</span>
            <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
        <span class="ni">&amp;lt;</span>/form<span class="ni">&amp;gt;</span>
    <span class="ni">&amp;lt;</span>/div<span class="ni">&amp;gt;</span>

    <span class="ni">&amp;lt;</span>script src=<span class="ni">&amp;quot;</span>https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js<span class="ni">&amp;quot;&amp;gt;&amp;lt;</span>/script<span class="ni">&amp;gt;</span>
    <span class="ni">&amp;lt;</span>script<span class="ni">&amp;gt;</span>
        // フォームクリア機能
        function clearForm() {
            document.querySelector(<span class="ni">&amp;apos;</span>form<span class="ni">&amp;apos;</span>).reset();
        }

        // ページ読み込み時にAND条件をデフォルト選択
        document.addEventListener(<span class="ni">&amp;apos;</span>DOMContentLoaded<span class="ni">&amp;apos;</span>, function() {
            const andRadio = document.getElementById(<span class="ni">&amp;apos;</span>operatorAnd<span class="ni">&amp;apos;</span>);
            if (andRadio <span class="ni">&amp;amp;&amp;amp;</span> !document.querySelector(<span class="ni">&amp;apos;</span>input[name=<span class="ni">&amp;quot;</span>searchOperator<span class="ni">&amp;quot;</span>]:checked<span class="ni">&amp;apos;</span>)) {
                andRadio.checked = true;
            }
        });
    <span class="ni">&amp;lt;</span>/script<span class="ni">&amp;gt;</span>
<span class="ni">&amp;lt;</span>/body<span class="ni">&amp;gt;</span>
<span class="ni">&amp;lt;</span>/html<span class="ni">&amp;gt;</span>
</code></pre></div>
<h3 id="ui">📘 <a href="https://nkaihatsuItDivision.github.io/CodeLingoPicture/SpringBoot3_4_advanced_search_ui.html">高度な検索 UI</a></h3>
<hr />
<h2 id="section-5-controller">🚀 Section 5: Controllerの拡張</h2>
<h3 id="5-1-controller"><strong>5-1. 高度検索Controller機能の追加</strong></h3>
<p>Week 10.2のStudentSearchControllerに高度検索機能を追加します：</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Controller</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">/</span><span class="n">students</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSearchController</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">StudentSearchService</span><span class="w"> </span><span class="n">studentSearchService</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Week 10.2-10.3で実装済みメソッド</span>
<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">/</span><span class="n">search</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">searchForm</span><span class="p">(</span><span class="n">Model</span><span class="w"> </span><span class="n">model</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* 基本検索フォーム */</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">/</span><span class="n">search</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">executeSearch</span><span class="p">(</span><span class="cm">/* 基本検索処理 */</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* 基本検索実行 */</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：高度検索フォーム表示</span>
<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">/</span><span class="n">search</span><span class="o">/</span><span class="n">advanced</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">advancedSearchForm</span><span class="p">(</span><span class="n">Model</span><span class="w"> </span><span class="n">model</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 高度検索フォーム用データ準備</span>
<span class="w">            </span><span class="n">StudentSearchForm</span><span class="w"> </span><span class="n">searchForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StudentSearchForm</span><span class="p">();</span>
<span class="w">            </span><span class="n">searchForm</span><span class="p">.</span><span class="na">setAdvancedMode</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">            </span><span class="n">searchForm</span><span class="p">.</span><span class="na">setSearchOperator</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">AND</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span><span class="w"> </span><span class="c1">// デフォルトはAND条件</span>

<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">searchForm</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">searchForm</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 複数選択用オプションデータの取得</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">majorOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentSearchService</span><span class="p">.</span><span class="na">getAvailableMajors</span><span class="p">();</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Integer</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">gradeOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">statusOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentSearchService</span><span class="p">.</span><span class="na">getAvailableStatuses</span><span class="p">();</span>

<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">majorOptions</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">majorOptions</span><span class="p">);</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">gradeOptions</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">gradeOptions</span><span class="p">);</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">statusOptions</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">statusOptions</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// パンくずリスト用</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">currentPage</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">高度検索</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">student</span><span class="o">/</span><span class="n">search</span><span class="o">-</span><span class="n">advanced</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ServiceException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">高度検索フォーム表示でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">            </span><span class="n">redirectAttributes</span><span class="p">.</span><span class="na">addFlashAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">errorMessage</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span>
<span class="w">                </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">高度検索フォームの表示中にエラーが発生しました</span><span class="err">。</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">redirect</span><span class="p">:</span><span class="o">/</span><span class="n">students</span><span class="o">/</span><span class="n">search</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：高度検索実行</span>
<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">/</span><span class="n">search</span><span class="o">/</span><span class="n">advanced</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">executeAdvancedSearch</span><span class="p">(</span><span class="nd">@Valid</span><span class="w"> </span><span class="nd">@ModelAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">searchForm</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span><span class="w"> </span><span class="n">StudentSearchForm</span><span class="w"> </span><span class="n">searchForm</span><span class="p">,</span>
<span class="w">                                       </span><span class="n">BindingResult</span><span class="w"> </span><span class="n">bindingResult</span><span class="p">,</span>
<span class="w">                                       </span><span class="nd">@RequestParam</span><span class="p">(</span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="mi">0</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">                                       </span><span class="nd">@RequestParam</span><span class="p">(</span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="mi">10</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">,</span>
<span class="w">                                       </span><span class="nd">@RequestParam</span><span class="p">(</span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">id</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">sort</span><span class="p">,</span>
<span class="w">                                       </span><span class="nd">@RequestParam</span><span class="p">(</span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">asc</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">direction</span><span class="p">,</span>
<span class="w">                                       </span><span class="n">RedirectAttributes</span><span class="w"> </span><span class="n">redirectAttributes</span><span class="p">,</span>
<span class="w">                                       </span><span class="n">Model</span><span class="w"> </span><span class="n">model</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// バリデーションエラーチェック</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bindingResult</span><span class="p">.</span><span class="na">hasErrors</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// エラー時は再度フォーム表示</span>
<span class="w">                </span><span class="n">prepareAdvancedSearchFormData</span><span class="p">(</span><span class="n">model</span><span class="p">);</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">student</span><span class="o">/</span><span class="n">search</span><span class="o">-</span><span class="n">advanced</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// 高度検索専用バリデーション</span>
<span class="w">            </span><span class="n">validateAdvancedSearchCriteria</span><span class="p">(</span><span class="n">searchForm</span><span class="p">,</span><span class="w"> </span><span class="n">bindingResult</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bindingResult</span><span class="p">.</span><span class="na">hasErrors</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">prepareAdvancedSearchFormData</span><span class="p">(</span><span class="n">model</span><span class="p">);</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">student</span><span class="o">/</span><span class="n">search</span><span class="o">-</span><span class="n">advanced</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// 検索条件をDTOに変換</span>
<span class="w">            </span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">searchForm</span><span class="p">.</span><span class="na">toAdvancedCriteria</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// ページネーション設定</span>
<span class="w">            </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Sort</span><span class="p">.</span><span class="na">by</span><span class="p">(</span><span class="n">Sort</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">fromString</span><span class="p">(</span><span class="n">direction</span><span class="p">),</span><span class="w"> </span><span class="n">sort</span><span class="p">);</span>
<span class="w">            </span><span class="n">Pageable</span><span class="w"> </span><span class="n">pageable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PageRequest</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">page</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">sortObj</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Week 10.4の高度検索サービス実行</span>
<span class="w">            </span><span class="n">Page</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">StudentDto</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">searchResults</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentSearchService</span><span class="p">.</span><span class="na">advancedSearchWithPaging</span><span class="p">(</span>
<span class="w">                </span><span class="n">criteria</span><span class="p">,</span><span class="w"> </span><span class="n">pageable</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 検索結果をモデルに設定</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">searchResults</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">searchResults</span><span class="p">);</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">searchCriteria</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">criteria</span><span class="p">);</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">currentPage</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">currentSort</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">sort</span><span class="p">);</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">currentDirection</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">direction</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 検索条件の概要をメッセージで表示</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">searchSummary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buildAdvancedSearchSummary</span><span class="p">(</span><span class="n">criteria</span><span class="p">);</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">searchSummary</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">searchSummary</span><span class="p">);</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">student</span><span class="o">/</span><span class="n">search</span><span class="o">-</span><span class="n">advanced</span><span class="o">-</span><span class="n">results</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ServiceException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">高度検索実行でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">            </span><span class="n">redirectAttributes</span><span class="p">.</span><span class="na">addFlashAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">errorMessage</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span>
<span class="w">                </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">検索処理中にエラーが発生しました</span><span class="p">:</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">redirect</span><span class="p">:</span><span class="o">/</span><span class="n">students</span><span class="o">/</span><span class="n">search</span><span class="o">/</span><span class="n">advanced</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：高度検索フォームデータ準備ヘルパーメソッド</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">prepareAdvancedSearchFormData</span><span class="p">(</span><span class="n">Model</span><span class="w"> </span><span class="n">model</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServiceException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">majorOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentSearchService</span><span class="p">.</span><span class="na">getAvailableMajors</span><span class="p">();</span>
<span class="w">        </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Integer</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">gradeOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="w">        </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">statusOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentSearchService</span><span class="p">.</span><span class="na">getAvailableStatuses</span><span class="p">();</span>

<span class="w">        </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">majorOptions</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">majorOptions</span><span class="p">);</span>
<span class="w">        </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">gradeOptions</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">gradeOptions</span><span class="p">);</span>
<span class="w">        </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">statusOptions</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">statusOptions</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：高度検索専用バリデーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">validateAdvancedSearchCriteria</span><span class="p">(</span><span class="n">StudentSearchForm</span><span class="w"> </span><span class="n">searchForm</span><span class="p">,</span><span class="w"> </span><span class="n">BindingResult</span><span class="w"> </span><span class="n">bindingResult</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 日付範囲の妥当性チェック</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">searchForm</span><span class="p">.</span><span class="na">getStartDate</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="n">searchForm</span><span class="p">.</span><span class="na">getEndDate</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">searchForm</span><span class="p">.</span><span class="na">getStartDate</span><span class="p">().</span><span class="na">isAfter</span><span class="p">(</span><span class="n">searchForm</span><span class="p">.</span><span class="na">getEndDate</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">bindingResult</span><span class="p">.</span><span class="na">rejectValue</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">endDate</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">invalid</span><span class="p">.</span><span class="na">dateRange</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span>
<span class="w">                    </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">終了日は開始日以降で入力してください</span><span class="err">。</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 検索条件が1つも指定されていない場合のチェック</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">searchForm</span><span class="p">.</span><span class="na">hasAnySearchCriteria</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">bindingResult</span><span class="p">.</span><span class="na">reject</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">empty</span><span class="p">.</span><span class="na">searchCriteria</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span>
<span class="w">                </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">検索条件を1つ以上指定してください</span><span class="err">。</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：検索条件概要作成</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">buildAdvancedSearchSummary</span><span class="p">(</span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">StringBuilder</span><span class="w"> </span><span class="n">summary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuilder</span><span class="p">();</span>
<span class="w">        </span><span class="n">summary</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="err">【</span><span class="n">高度検索結果</span><span class="err">】</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>
<span class="w">        </span><span class="n">summary</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getSearchOperator</span><span class="p">()).</span><span class="na">append</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">条件</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>

<span class="w">        </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">conditions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">StringUtils</span><span class="p">.</span><span class="na">hasText</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getName</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">conditions</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">名前</span><span class="p">:</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">criteria</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">StringUtils</span><span class="p">.</span><span class="na">hasText</span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getMajor</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">conditions</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">専攻</span><span class="p">:</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">criteria</span><span class="p">.</span><span class="na">getMajor</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getGrade</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">conditions</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">学年</span><span class="p">:</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">criteria</span><span class="p">.</span><span class="na">getGrade</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">年</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">getStartDate</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">criteria</span><span class="p">.</span><span class="na">getEndDate</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">conditions</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">期間指定</span><span class="p">:</span><span class="w"> </span><span class="n">あり</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">criteria</span><span class="p">.</span><span class="na">hasMultipleSelection</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">conditions</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">複数選択</span><span class="p">:</span><span class="w"> </span><span class="n">あり</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">summary</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">join</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">conditions</span><span class="p">)).</span><span class="na">toString</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_6">​ <a href="https://nkaihatsuItDivision.github.io/CodeLingoPicture/SpringBoot3_4_controller_extension.html">コントローラー拡張</a></h3>
<hr />
<h2 id="section-6-service">🚀 Section 6: Serviceの拡張</h2>
<h3 id="6-1"><strong>6-1. 高度検索サービス機能の追加</strong></h3>
<p>Week 10.1のStudentSearchServiceに高度検索機能を追加します：</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="nd">@Transactional</span><span class="p">(</span><span class="n">readOnly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSearchServiceImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">StudentSearchService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">StudentRepository</span><span class="w"> </span><span class="n">studentRepository</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Week 10.1-10.3で実装済みメソッド</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Page</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">StudentDto</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">searchStudentsWithPaging</span><span class="p">(</span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">,</span><span class="w"> </span><span class="n">Pageable</span><span class="w"> </span><span class="n">pageable</span><span class="p">)</span><span class="w"> </span>
<span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServiceException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 基本検索実装済み</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：高度検索（複合条件・日付範囲・複数選択対応）</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Page</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">StudentDto</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">advancedSearchWithPaging</span><span class="p">(</span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                                     </span><span class="n">Pageable</span><span class="w"> </span><span class="n">pageable</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServiceException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">高度検索を実行します</span><span class="err">。</span><span class="n">条件</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">criteria</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Week 10.4のSpecification活用：完全版高度検索</span>
<span class="w">            </span><span class="n">Specification</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Student</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">spec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StudentSpecifications</span><span class="p">.</span><span class="na">completeAdvancedSearch</span><span class="p">(</span><span class="n">criteria</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// ページネーション検索実行（Week 10.3の成果活用）</span>
<span class="w">            </span><span class="n">Page</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Student</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">studentPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentRepository</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">spec</span><span class="p">,</span><span class="w"> </span><span class="n">pageable</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Entity → DTO変換（Week 10.1-10.3の実装活用）</span>
<span class="w">            </span><span class="n">Page</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">StudentDto</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">dtoPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentPage</span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="k">this</span><span class="p">::</span><span class="n">convertToDto</span><span class="p">);</span>

<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">高度検索完了</span><span class="err">。</span><span class="n">結果件数</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">総件数</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span>
<span class="w">                </span><span class="n">dtoPage</span><span class="p">.</span><span class="na">getNumberOfElements</span><span class="p">(),</span><span class="w"> </span><span class="n">dtoPage</span><span class="p">.</span><span class="na">getTotalElements</span><span class="p">());</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">dtoPage</span><span class="p">;</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">高度検索でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServiceException</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">高度検索でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：複数選択用オプション取得</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">getAvailableMajors</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServiceException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">利用可能な専攻一覧を取得します</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>

<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">majors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentRepository</span><span class="p">.</span><span class="na">findDistinctMajors</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// 空文字・null値を除外してソート</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">filteredMajors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">majors</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">major</span><span class="w"> </span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="w"> </span><span class="o">!</span><span class="n">major</span><span class="p">.</span><span class="na">trim</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">sorted</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>

<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">利用可能な専攻数</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">filteredMajors</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">filteredMajors</span><span class="p">;</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">専攻一覧取得でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServiceException</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">専攻一覧の取得でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：ステータス一覧取得</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">getAvailableStatuses</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServiceException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">利用可能なステータス一覧を取得します</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>

<span class="w">            </span><span class="c1">// ステータスの固定リストまたはDBから動的取得</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">statuses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span>
<span class="w">                </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">在学中</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">休学中</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">退学</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">卒業</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">留年</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">利用可能なステータス数</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">statuses</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">statuses</span><span class="p">;</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">ステータス一覧取得でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServiceException</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">ステータス一覧の取得でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：検索条件保存機能</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">saveSearchCriteria</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">searchName</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                  </span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServiceException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">検索条件を保存します</span><span class="err">。</span><span class="n">ユーザー</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="n">検索名</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span><span class="w"> </span><span class="n">searchName</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 検索条件をJSON形式で保存（または専用テーブルに保存）</span>
<span class="w">            </span><span class="c1">// ここでは簡易実装として概要のみ</span>
<span class="w">            </span><span class="n">SearchCriteriaEntity</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SearchCriteriaEntity</span><span class="p">();</span>
<span class="w">            </span><span class="n">entity</span><span class="p">.</span><span class="na">setUserId</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>
<span class="w">            </span><span class="n">entity</span><span class="p">.</span><span class="na">setSearchName</span><span class="p">(</span><span class="n">searchName</span><span class="p">);</span>
<span class="w">            </span><span class="n">entity</span><span class="p">.</span><span class="na">setCriteriaJson</span><span class="p">(</span><span class="n">convertCriteriaToJson</span><span class="p">(</span><span class="n">criteria</span><span class="p">));</span>
<span class="w">            </span><span class="n">entity</span><span class="p">.</span><span class="na">setCreatedDate</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>

<span class="w">            </span><span class="c1">// searchCriteriaRepository.save(entity);</span>

<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">検索条件の保存が完了しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">検索条件保存でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServiceException</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">検索条件の保存でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：JSON変換ヘルパーメソッド</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">convertCriteriaToJson</span><span class="p">(</span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Jackson ObjectMapperまたは手動でJSON作成</span>
<span class="w">        </span><span class="c1">// ここでは簡易実装として概要のみ</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;{}</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span><span class="w"> </span><span class="c1">// 実際の実装では適切なJSON変換を行う</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_7">​ <a href="https://nkaihatsuItDivision.github.io/CodeLingoPicture/SpringBoot3_4_service_extension.html">サービス拡張機能</a></h3>
<hr />
<h2 id="section-7">🚀 Section 7: 動的フィルタリング機能</h2>
<h3 id="7-1-ajax"><strong>7-1. Ajax を活用したリアルタイム検索</strong></h3>
<p>高度検索画面にAjaxによる動的フィルタリング機能を追加します：</p>
<div class="highlight"><pre><span></span><code><span class="c1">// search-advanced.js（新規作成）</span>

<span class="cm">/**</span>
<span class="cm"> * 高度検索画面用JavaScript</span>
<span class="cm"> * Week 10.4で作成：動的フィルタリング・リアルタイム検索</span>
<span class="cm"> */</span>

<span class="c1">// ページ読み込み時の初期化</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">DOMContentLoaded</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">initializeAdvancedSearch</span><span class="p">();</span>
<span class="p">});</span>

<span class="cm">/**</span>
<span class="cm"> * 高度検索機能の初期化</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">initializeAdvancedSearch</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// リアルタイム検索の設定</span>
<span class="w">    </span><span class="nx">setupRealTimeSearch</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 条件変更時の動的更新</span>
<span class="w">    </span><span class="nx">setupDynamicFiltering</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 検索条件保存機能</span>
<span class="w">    </span><span class="nx">setupSearchCriteriaSave</span><span class="p">();</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * リアルタイム検索の設定</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">setupRealTimeSearch</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">searchInputs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;.</span><span class="nx">real</span><span class="o">-</span><span class="nx">time</span><span class="o">-</span><span class="nx">search</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>

<span class="w">    </span><span class="nx">searchInputs</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">input</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">timeoutId</span><span class="p">;</span>

<span class="w">        </span><span class="nx">input</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">input</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// デバウンス処理（300ms後に実行）</span>
<span class="w">            </span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeoutId</span><span class="p">);</span>
<span class="w">            </span><span class="nx">timeoutId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">executeRealTimeSearch</span><span class="p">();</span>
<span class="w">            </span><span class="p">},</span><span class="w"> </span><span class="mf">300</span><span class="p">);</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * リアルタイム検索の実行</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">executeRealTimeSearch</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="n">#advancedSearchForm</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">(</span><span class="nx">form</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 検索条件をURLパラメータに変換</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URLSearchParams</span><span class="p">();</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">]</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">formData</span><span class="p">.</span><span class="nx">entries</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">params</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Ajax リクエスト実行</span>
<span class="w">    </span><span class="nx">fetch</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="err">/students/api/search/preview?&amp;apos; + params.toString(), {</span>
<span class="w">        </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">GET</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span>
<span class="w">        </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span>
<span class="w">            </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">X</span><span class="o">-</span><span class="nx">Requested</span><span class="o">-</span><span class="nx">With</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">XMLHttpRequest</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">updateSearchPreview</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">リアルタイム検索エラー</span><span class="o">:&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * 検索プレビューの更新</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">updateSearchPreview</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">previewArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">searchPreview</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">totalCount</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">previewArea</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">            &amp;lt;div class=&amp;quot;alert alert-info&amp;quot;&amp;gt;</span>
<span class="sb">                &amp;lt;i class=&amp;quot;fas fa-info-circle&amp;quot;&amp;gt;&amp;lt;/i&amp;gt; </span>
<span class="sb">                検索条件に一致する学生: &amp;lt;strong&amp;gt;</span><span class="si">${</span><span class="nx">data</span><span class="p">.</span><span class="nx">totalCount</span><span class="si">}</span><span class="sb">件&amp;lt;/strong&amp;gt;</span>
<span class="sb">            &amp;lt;/div&amp;gt;</span>
<span class="sb">        `</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">previewArea</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">            &amp;lt;div class=&amp;quot;alert alert-warning&amp;quot;&amp;gt;</span>
<span class="sb">                &amp;lt;i class=&amp;quot;fas fa-exclamation-triangle&amp;quot;&amp;gt;&amp;lt;/i&amp;gt; </span>
<span class="sb">                条件に一致する学生が見つかりません</span>
<span class="sb">            &amp;lt;/div&amp;gt;</span>
<span class="sb">        `</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * 動的フィルタリングの設定</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">setupDynamicFiltering</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 専攻選択時の学年フィルタ更新</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">majorCheckboxes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">input</span><span class="p">[</span><span class="nx">name</span><span class="o">=&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="nx">selectedMajors</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;]</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">    </span><span class="nx">majorCheckboxes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">checkbox</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">checkbox</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">change</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">updateGradeOptions</span><span class="p">();</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="c1">// 学年選択時の専攻フィルタ更新</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">gradeCheckboxes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">input</span><span class="p">[</span><span class="nx">name</span><span class="o">=&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="nx">selectedGrades</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;]</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">    </span><span class="nx">gradeCheckboxes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">checkbox</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">checkbox</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">change</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">updateMajorOptions</span><span class="p">();</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * 学年オプションの動的更新</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">updateGradeOptions</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">selectedMajors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getSelectedValues</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">selectedMajors</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">selectedMajors</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">fetch</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="err">/students/api/grades-by-majors&amp;apos;, {</span>
<span class="w">            </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">POST</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span>
<span class="w">            </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="w"> </span><span class="nx">majors</span><span class="o">:</span><span class="w"> </span><span class="nx">selectedMajors</span><span class="w"> </span><span class="p">})</span>
<span class="w">        </span><span class="p">})</span>
<span class="w">        </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="w">        </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">updateCheckboxOptions</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">selectedGrades</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">availableGrades</span><span class="p">);</span>
<span class="w">        </span><span class="p">})</span>
<span class="w">        </span><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">学年オプション更新エラー</span><span class="o">:&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * 選択値の取得</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">getSelectedValues</span><span class="p">(</span><span class="nx">fieldName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">checkboxes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="sb">`input[name=&amp;quot;</span><span class="si">${</span><span class="nx">fieldName</span><span class="si">}</span><span class="sb">&amp;quot;]:checked`</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nx">checkboxes</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nx">cb</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="nx">cb</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * チェックボックスオプションの更新</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">updateCheckboxOptions</span><span class="p">(</span><span class="nx">fieldName</span><span class="p">,</span><span class="w"> </span><span class="nx">availableOptions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">checkboxes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="sb">`input[name=&amp;quot;</span><span class="si">${</span><span class="nx">fieldName</span><span class="si">}</span><span class="sb">&amp;quot;]`</span><span class="p">);</span>

<span class="w">    </span><span class="nx">checkboxes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">checkbox</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">isAvailable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">availableOptions</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">checkbox</span><span class="p">.</span><span class="nx">value</span><span class="p">));</span>
<span class="w">        </span><span class="nx">checkbox</span><span class="p">.</span><span class="nx">disabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="nx">isAvailable</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isAvailable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">checkbox</span><span class="p">.</span><span class="nx">checked</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 視覚的な無効化</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">checkbox</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;.</span><span class="nx">form</span><span class="o">-</span><span class="nx">check</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isAvailable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">label</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">text</span><span class="o">-</span><span class="nx">muted</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">label</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">text</span><span class="o">-</span><span class="nx">muted</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * 検索条件保存機能の設定</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">setupSearchCriteriaSave</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">saveButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">saveSearchCriteria</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">saveButton</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">saveButton</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">click</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">showSaveDialog</span><span class="p">();</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * 保存ダイアログの表示</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">showSaveDialog</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">searchName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">prompt</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">検索条件の名前を入力してください</span><span class="o">:&amp;</span><span class="nx">apos</span><span class="p">;);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">searchName</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="w"> </span><span class="nx">searchName</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">saveSearchCriteria</span><span class="p">(</span><span class="nx">searchName</span><span class="p">.</span><span class="nx">trim</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * 検索条件の保存</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">saveSearchCriteria</span><span class="p">(</span><span class="nx">searchName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="n">#advancedSearchForm</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">(</span><span class="nx">form</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// FormDataをオブジェクトに変換</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">criteria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">]</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">formData</span><span class="p">.</span><span class="nx">entries</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">criteria</span><span class="p">[</span><span class="nx">key</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 複数の値がある場合は配列に</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">criteria</span><span class="p">[</span><span class="nx">key</span><span class="p">]))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">criteria</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">criteria</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nx">criteria</span><span class="p">[</span><span class="nx">key</span><span class="p">],</span><span class="w"> </span><span class="nx">value</span><span class="p">];</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">criteria</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">fetch</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="err">/students/api/search-criteria/save&amp;apos;, {</span>
<span class="w">        </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">POST</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span>
<span class="w">        </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
<span class="w">            </span><span class="nx">searchName</span><span class="o">:</span><span class="w"> </span><span class="nx">searchName</span><span class="p">,</span>
<span class="w">            </span><span class="nx">criteria</span><span class="o">:</span><span class="w"> </span><span class="nx">criteria</span>
<span class="w">        </span><span class="p">})</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">showAlert</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">success</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">検索条件を保存しました</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">searchName</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">showAlert</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">error</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">保存に失敗しました</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">検索条件保存エラー</span><span class="o">:&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
<span class="w">        </span><span class="nx">showAlert</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">error</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">保存中にエラーが発生しました</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * アラート表示</span>
<span class="cm"> */</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">showAlert</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span><span class="w"> </span><span class="nx">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">alertClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">type</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">success</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">alert</span><span class="o">-</span><span class="nx">success</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">alert</span><span class="o">-</span><span class="nx">danger</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;;</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">type</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">success</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">fa</span><span class="o">-</span><span class="nx">check</span><span class="o">-</span><span class="nx">circle</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">fa</span><span class="o">-</span><span class="nx">exclamation</span><span class="o">-</span><span class="nx">circle</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;;</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">div</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">    </span><span class="nx">alert</span><span class="p">.</span><span class="nx">className</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`alert </span><span class="si">${</span><span class="nx">alertClass</span><span class="si">}</span><span class="sb"> alert-dismissible fade show`</span><span class="p">;</span>
<span class="w">    </span><span class="nx">alert</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">        &amp;lt;i class=&amp;quot;fas </span><span class="si">${</span><span class="nx">icon</span><span class="si">}</span><span class="sb">&amp;quot;&amp;gt;&amp;lt;/i&amp;gt; </span><span class="si">${</span><span class="nx">message</span><span class="si">}</span>
<span class="sb">        &amp;lt;button type=&amp;quot;button&amp;quot; class=&amp;quot;btn-close&amp;quot; data-bs-dismiss=&amp;quot;alert&amp;quot;&amp;gt;&amp;lt;/button&amp;gt;</span>
<span class="sb">    `</span><span class="p">;</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">container</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;.</span><span class="nx">container</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;);</span>
<span class="w">    </span><span class="nx">container</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">alert</span><span class="p">,</span><span class="w"> </span><span class="nx">container</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 5秒後に自動的に非表示</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">alert</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">5000</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="7-2-ajax-api-controller"><strong>7-2. Ajax API Controllerの追加</strong></h3>
<p>Controllerに Ajax 用 API エンドポイントを追加します：</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Controller</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">/</span><span class="n">students</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentSearchController</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// 既存メソッド...</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：リアルタイム検索プレビューAPI</span>
<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">search</span><span class="o">/</span><span class="n">preview</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="nd">@ResponseBody</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">getSearchPreview</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@ModelAttribute</span><span class="w"> </span><span class="n">StudentSearchCriteria</span><span class="w"> </span><span class="n">criteria</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 件数のみ取得（プレビュー用）</span>
<span class="w">            </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentSearchService</span><span class="p">.</span><span class="na">countAdvancedSearch</span><span class="p">(</span><span class="n">criteria</span><span class="p">);</span>

<span class="w">            </span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">totalCount</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">totalCount</span><span class="p">);</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">success</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ServiceException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">検索プレビューでエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>

<span class="w">            </span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">totalCount</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">success</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">message</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">プレビュー取得でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">).</span><span class="na">body</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：動的学年オプション取得API</span>
<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">grades</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">majors</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="nd">@ResponseBody</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">getGradesByMajors</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">majors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">majors</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>
<span class="w">            </span><span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Integer</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">availableGrades</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">studentSearchService</span><span class="p">.</span><span class="na">getGradesByMajors</span><span class="p">(</span><span class="n">majors</span><span class="p">);</span>

<span class="w">            </span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">availableGrades</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">availableGrades</span><span class="p">);</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">success</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ServiceException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">専攻別学年取得でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>

<span class="w">            </span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">availableGrades</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">success</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">message</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">学年取得でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">).</span><span class="na">body</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Week 10.4で追加：検索条件保存API</span>
<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">search</span><span class="o">-</span><span class="n">criteria</span><span class="o">/</span><span class="n">save</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="w">    </span><span class="nd">@ResponseBody</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">saveSearchCriteria</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">searchName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">searchName</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>
<span class="w">            </span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">criteriaData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;)</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">criteria</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>

<span class="w">            </span><span class="c1">// 現在のユーザーID取得（認証機能がある場合）</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">userId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getCurrentUserId</span><span class="p">();</span><span class="w"> </span><span class="c1">// 簡易実装</span>

<span class="w">            </span><span class="c1">// 検索条件の保存</span>
<span class="w">            </span><span class="n">studentSearchService</span><span class="p">.</span><span class="na">saveUserSearchCriteria</span><span class="p">(</span><span class="n">userId</span><span class="p">,</span><span class="w"> </span><span class="n">searchName</span><span class="p">,</span><span class="w"> </span><span class="n">criteriaData</span><span class="p">);</span>

<span class="w">            </span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">success</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">message</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">検索条件を保存しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;);</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ServiceException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">検索条件保存でエラーが発生しました</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>

<span class="w">            </span><span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;();</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">success</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">            </span><span class="n">response</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">message</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">保存中にエラーが発生しました</span><span class="p">:</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">).</span><span class="na">body</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 現在のユーザーID取得（簡易実装）</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getCurrentUserId</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 実際の実装では認証情報から取得</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">anonymous</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_8">​ <a href="https://nkaihatsuItDivision.github.io/CodeLingoPicture/SpringBoot3_4_dynamic_filtering.html">動的絞り込み</a></h3>
<hr />
<h2 id="section-8">🚀 Section 8: 実践演習</h2>
<h3 id="week-104_2"><strong>Week 10.4 高度検索機能の段階的実装</strong></h3>
<p>これまで学んだ技術を統合して、企業システムレベルの高度検索機能を段階的に実装していきましょう。</p>
<h3 id="_9"><strong>演習の目標</strong></h3>
<ul>
<li>複合条件検索（AND/OR演算子）の完全実装</li>
<li>日付範囲検索・複数選択検索の統合</li>
<li>動的フィルタリング・Ajax機能の実装</li>
<li>検索条件保存機能の実装</li>
<li>Week 10.1-10.3基盤との完全統合</li>
</ul>
<hr />
<h4 id="step-1"><strong>Step 1: 複合条件検索の基本実装</strong></h4>
<p>まず、AND/OR演算子を活用した複合条件検索を実装しましょう。</p>
<p>&lt;details&gt;
&lt;summary&gt;💡 Step 1のヒント&lt;/summary&gt;</p>
<p><strong>実装のポイント:</strong>
- StudentSearchCriteriaにsearchOperatorフィールドを追加
- StudentSpecificationsでPredicateリストを動的に結合
- 「AND」の場合は<code>criteriaBuilder.and()</code>、「OR」の場合は<code>criteriaBuilder.or()</code>を使用</p>
<p><strong>確認すべき動作:</strong>
- 名前に「田中」AND専攻に「情報」を含む検索
- 名前に「田中」OR学年が「1年」の検索
- 検索条件が複数指定された場合の動作</p>
<p><strong>TODO:</strong>
1. StudentSearchCriteriaクラスの拡張
2. StudentSpecificationsのadvancedSearchメソッド実装
3. 基本的なテストケースでの動作確認</p>
<p>&lt;/details&gt;</p>
<hr />
<h4 id="step-2"><strong>Step 2: 日付範囲検索の統合</strong></h4>
<p>Step 1の複合条件検索に日付範囲検索機能を統合しましょう。</p>
<p>&lt;details&gt;
&lt;summary&gt;💡 Step 2のヒント&lt;/summary&gt;</p>
<p><strong>実装のポイント:</strong>
- LocalDate型フィールドの追加と@DateTimeFormatアノテーション使用
- 開始日は<code>greaterThanOrEqualTo</code>、終了日は<code>lessThan</code>（翌日00:00:00未満）で実装
- 日付範囲の妥当性チェック（開始日 ≤ 終了日）</p>
<p><strong>確認すべき動作:</strong>
- 2024年1月1日から2024年12月31日までの学生検索
- 開始日のみ指定した場合の動作
- 終了日のみ指定した場合の動作
- 無効な日付範囲（開始日 &gt; 終了日）のエラーハンドリング</p>
<p><strong>TODO:</strong>
1. 日付フィールドの追加とバリデーション実装
2. Specificationでの日付範囲条件追加
3. フォーム画面での日付入力UI実装</p>
<p>&lt;/details&gt;</p>
<hr />
<h4 id="step-3"><strong>Step 3: 複数選択検索の実装</strong></h4>
<p>専攻や学年の複数選択検索機能を実装しましょう。</p>
<p>&lt;details&gt;
&lt;summary&gt;💡 Step 3のヒント&lt;/summary&gt;</p>
<p><strong>実装のポイント:</strong>
- List型フィールド（selectedMajors、selectedGrades）の追加
- Specificationでの<code>root.get(&amp;quot;field&amp;quot;).in(list)</code>による複数選択検索
- HTMLでのチェックボックス複数選択とThymeleafバインディング</p>
<p><strong>確認すべき動作:</strong>
- 複数の専攻（情報工学、機械工学）を同時選択した検索
- 複数の学年（1年、3年）を同時選択した検索
- 単一選択と複数選択の併用動作</p>
<p><strong>TODO:</strong>
1. 複数選択用Listフィールドの追加
2. IN句を使った複数選択Specification実装
3. チェックボックス群のHTML/JavaScript実装</p>
<p>&lt;/details&gt;</p>
<hr />
<h4 id="step-4"><strong>Step 4: 高度検索画面の完成</strong></h4>
<p>これまでの機能を統合した高度検索画面を完成させましょう。</p>
<p>&lt;details&gt;
&lt;summary&gt;💡 Step 4のヒント&lt;/summary&gt;</p>
<p><strong>実装のポイント:</strong>
- Week 10.2の基本検索画面を拡張した高度検索フォーム
- AND/OR演算子選択のラジオボタン実装
- 複数選択用チェックボックス群の適切なレイアウト
- バリデーションエラーの適切な表示</p>
<p><strong>確認すべき動作:</strong>
- 基本検索から高度検索への画面遷移
- 複数の検索条件を組み合わせた検索実行
- エラー時の適切なメッセージ表示とフォーム状態保持</p>
<p><strong>TODO:</strong>
1. search-advanced.htmlテンプレートの作成
2. Controllerでの高度検索フォーム表示・処理実装
3. CSS・JavaScriptによるUI/UX向上</p>
<p>&lt;/details&gt;</p>
<hr />
<h4 id="step-5"><strong>Step 5: 動的フィルタリング機能の実装</strong></h4>
<p>Ajax を活用したリアルタイム検索・動的フィルタリング機能を実装しましょう。</p>
<p>&lt;details&gt;
&lt;summary&gt;💡 Step 5のヒント&lt;/summary&gt;</p>
<p><strong>実装のポイント:</strong>
- JavaScript（fetch API）による非同期通信実装
- 入力値変更時のデバウンス処理（300ms遅延）
- リアルタイム検索プレビュー表示機能
- 選択肢の動的更新（専攻選択に応じた学年フィルタ等）</p>
<p><strong>確認すべき動作:</strong>
- 名前入力時のリアルタイム検索結果件数表示
- 専攻選択時の関連学年オプション動的更新
- ネットワークエラー時の適切なエラーハンドリング</p>
<p><strong>TODO:</strong>
1. search-advanced.jsファイルの作成
2. Ajax API エンドポイントの実装
3. リアルタイム更新UIの実装</p>
<p>&lt;/details&gt;</p>
<hr />
<h4 id="step-6"><strong>Step 6: 検索条件保存機能と完成テスト</strong></h4>
<p>検索条件の保存・呼び出し機能を実装し、全体のテストを行いましょう。</p>
<p>&lt;details&gt;
&lt;summary&gt;💡 Step 6のヒント&lt;/summary&gt;</p>
<p><strong>実装のポイント:</strong>
- LocalStorageまたはデータベースへの検索条件保存
- JSON形式での検索条件シリアライゼーション
- 保存済み検索条件の一覧表示・選択機能
- 統合テストによる全機能の動作確認</p>
<p><strong>確認すべき動作:</strong>
- 複雑な検索条件の保存・呼び出し
- 保存済み条件リストの表示
- Week 10.1-10.3機能との完全統合動作
- エラーケースでの適切な処理</p>
<p><strong>TODO:</strong>
1. 検索条件保存・呼び出し機能実装
2. 保存済み条件管理UI実装
3. Week 10.1-10.3との統合テスト実行</p>
<p>&lt;/details&gt;</p>
<hr />
<h3 id="_10"><strong>演習完成の確認</strong></h3>
<p>すべてのステップが完了したら、以下の機能が正常に動作することを確認してください：</p>
<p>✅ <strong>複合条件検索</strong>: AND/OR演算子による柔軟な条件組み合わせ&lt;br&gt;
✅ <strong>日付範囲検索</strong>: 登録日・更新日の期間指定検索&lt;br&gt;
✅ <strong>複数選択検索</strong>: 専攻・学年の複数選択による検索&lt;br&gt;
✅ <strong>動的フィルタリング</strong>: Ajax による リアルタイム検索&lt;br&gt;
✅ <strong>検索条件保存</strong>: よく使う条件の保存・呼び出し&lt;br&gt;
✅ <strong>Week 10.1-10.3統合</strong>: 既存機能との完全統合</p>
<h3 id="_11">​ <a href="https://nkaihatsuItDivision.github.io/CodeLingoPicture/SpringBoot3_4_completion_value.html">完了の価値</a></h3>
<hr />
<h2 id="_12">🎯 まとめ</h2>
<h3 id="week-104_3"><strong>Week 10.4で習得した技術</strong></h3>
<h4 id="_13"><strong>複合条件検索技術</strong></h4>
<ul>
<li><strong>Criteria API高度活用</strong>: Predicateリストの動的組み合わせによる複雑な検索条件実装</li>
<li><strong>AND/OR演算子</strong>: criteriaBuilder.and()・criteriaBuilder.or()による条件結合</li>
<li><strong>動的クエリ生成</strong>: ユーザー選択に応じた柔軟な検索クエリ構築</li>
</ul>
<h4 id="_14"><strong>日付範囲検索技術</strong></h4>
<ul>
<li><strong>LocalDate活用</strong>: @DateTimeFormatアノテーションによる日付フィールド処理</li>
<li><strong>期間検索最適化</strong>: greaterThanOrEqualTo・lessThanによる効率的な日付範囲検索</li>
<li><strong>日付バリデーション</strong>: 開始日・終了日の妥当性チェック実装</li>
</ul>
<h4 id="_15"><strong>複数選択検索技術</strong></h4>
<ul>
<li><strong>IN句活用</strong>: root.get(&quot;field&quot;).in(list)による複数値検索</li>
<li><strong>List型フィールド</strong>: チェックボックス複数選択とThymeleafバインディング</li>
<li><strong>動的オプション</strong>: 選択内容に応じた関連オプションの動的更新</li>
</ul>
<h4 id="ajax"><strong>Ajax・動的フィルタリング技術</strong></h4>
<ul>
<li><strong>非同期通信</strong>: fetch API による Ajax 実装</li>
<li><strong>リアルタイム検索</strong>: デバウンス処理を含むリアルタイム検索プレビュー</li>
<li><strong>動的UI更新</strong>: JavaScript による画面要素の動的更新</li>
</ul>
<h4 id="week-101-103_1"><strong>Week 10.1-10.3技術の統合</strong></h4>
<ul>
<li><strong>検索基盤拡張</strong>: Week 10.1のCriteria API基盤を企業システムレベルに高度化</li>
<li><strong>画面機能拡張</strong>: Week 10.2の検索画面を高度検索フォームに発展</li>
<li><strong>結果表示統合</strong>: Week 10.3のページネーション・並び替えとの完全統合</li>
</ul>
<h3 id="_16"><strong>実現した価値</strong></h3>
<h4 id="_17"><strong>企業システムレベル検索機能</strong></h4>
<p>今回実装した高度検索機能は、実際の企業システムで使用される本格的なレベルです：
- <strong>ERP系システム</strong>: 複合条件による詳細データ検索
- <strong>CRM系システム</strong>: 顧客情報の多角的検索・分析
- <strong>ECサイト</strong>: 商品の詳細フィルタリング・絞り込み検索
- <strong>管理画面</strong>: データの効率的な検索・管理機能</p>
<h4 id="_18"><strong>保守性・拡張性の向上</strong></h4>
<ul>
<li><strong>Criteria API</strong>: 型安全な動的クエリによる保守性向上</li>
<li><strong>Service層分離</strong>: ビジネスロジックの適切な分離による拡張性確保</li>
<li><strong>Ajax技術</strong>: ユーザビリティ向上とサーバー負荷軽減</li>
</ul>
<h4 id="_19"><strong>開発効率の向上</strong></h4>
<ul>
<li><strong>再利用可能コンポーネント</strong>: 他の検索機能への転用可能な設計</li>
<li><strong>統一されたアーキテクチャ</strong>: Week 9で確立したアーキテクチャとの完全統合</li>
<li><strong>テスト可能な設計</strong>: 単体テスト・統合テストが容易な構造</li>
</ul>
<h3 id="week-105"><strong>Week 10.5への準備</strong></h3>
<p>Week 10.4で確立した高度検索技術は、Week 10.5以降の機能開発の強固な基盤となります：</p>
<h4 id="week-105_1"><strong>Week 10.5 削除機能基盤</strong></h4>
<ul>
<li><strong>安全な削除処理</strong>: 検索結果からの選択的削除機能</li>
<li><strong>トランザクション管理</strong>: @Transactional を活用した確実な削除処理</li>
<li><strong>削除前確認</strong>: ユーザビリティを考慮した削除確認機能</li>
</ul>
<h4 id="week-106"><strong>Week 10.6 一括削除機能</strong></h4>
<ul>
<li><strong>複数選択処理</strong>: 高度検索結果からの複数項目選択・一括削除</li>
<li><strong>JavaScript連携</strong>: チェックボックス連携による効率的な一括処理</li>
<li><strong>パフォーマンス最適化</strong>: 大量データの効率的な一括削除処理</li>
</ul>
<h4 id="week-107-1010"><strong>Week 10.7-10.10 高度機能</strong></h4>
<ul>
<li><strong>データエクスポート</strong>: 高度検索結果のCSV・Excel出力</li>
<li><strong>Ajax導入</strong>: リアルタイム削除・更新機能</li>
<li><strong>パフォーマンス最適化</strong>: インデックス活用・効率的クエリ</li>
<li><strong>システム統合完成</strong>: Week 10.1-10.10の完全統合</li>
</ul>
<h3 id="week-104_4"><strong>Week 10.4の成功実感</strong></h3>
<p>Week 10.4の完了により、あなたは以下のレベルに到達しました：</p>
<p>🎯 <strong>企業システムレベル高度検索機能の実装能力</strong>&lt;br&gt;
🎯 <strong>Criteria API・Ajax技術による高度なWeb開発技術</strong>&lt;br&gt;
🎯 <strong>実務で使用される本格的な検索システム開発経験</strong>&lt;br&gt;
🎯 <strong>Week 10.5以降の削除機能・高度機能への確実な基盤</strong></p>
<p>Week 10.1-10.4を通じて、検索機能の基盤から企業システムレベルの高度検索機能まで、段階的かつ確実に習得することができました。</p>
<p>この経験は、実際の企業システム開発において即戦力として活用できる貴重な技術基盤となります。</p>
<hr />
<h2 id="week-105_2">🚀 次回予告：Week 10.5への期待</h2>
<h3 id="week-105_3"><strong>Week 10.5で学ぶ内容</strong></h3>
<p><strong>「削除機能基盤：安全な削除処理とトランザクション」</strong></p>
<p>Week 10.4で完成させた高度検索機能を基盤として、<strong>安全で確実な削除機能</strong>を実装します：</p>
<ul>
<li><strong>論理削除・物理削除</strong>: データの安全な削除方法と使い分け</li>
<li><strong>@Transactional活用</strong>: Spring Bootの強力なトランザクション管理</li>
<li><strong>削除前確認</strong>: ユーザビリティを考慮した削除確認機能</li>
<li><strong>検索結果からの削除</strong>: Week 10.4の検索機能と連携した削除処理</li>
</ul>
<h3 id="week-104105"><strong>Week 10.4から10.5への自然な流れ</strong></h3>
<p>Week 10.4で完成した高度検索機能により、必要なデータを効率的に見つけることができるようになりました。</p>
<p>Week 10.5では、見つけたデータを<strong>安全に削除する</strong>技術を習得し、実用的なデータ管理システムとしての完成度をさらに高めていきます。</p>
<p>Week 10.1-10.4で確立した強固な基盤の上に、企業システムに欠かせない削除機能を構築していきましょう！</content>
</lesson></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>